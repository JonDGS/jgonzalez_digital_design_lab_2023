module Contador_tb;

    // Parámetros
    parameter N = 8;
    parameter PERIODO_CLK = 10;
    
    // Señales del testbench
    logic clk = 0;
    logic reset = 0;
    logic [N-1:0] valor_inicial = 2;
    logic [N-1:0] valor_contador;
    
    // Instancia del contador
    Contador dut (
        .clk(clk),
        .reset(reset),
        .valor_inicial(valor_inicial),
        .valor_contador(valor_contador)
    );
    
    // Generación del reloj
    always #(PERIODO_CLK/2) clk = ~clk;
    
    // Procedimiento de reset inicial
    initial begin
        reset = 1;
        #5;
        reset = 0;
        #5;
        $finish;
    end
    
    // Monitoreo y auto-chequeo
    always @(posedge clk) begin
        $display("Tiempo: %0t, Valor del Contador: %h", $time, valor_contador);
        if (valor_contador === 0) begin
            $display("¡Prueba exitosa! El valor del contador llegó a cero.");
            $finish;
        end
    end

endmodule
